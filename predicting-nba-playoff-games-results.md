Title: Predicting NBA Playoff Games - Results and Update 1
Date: 2012-06-01 10:12
Slug: predicting-nba-playoff-games-results
Modified: 2014-01-07 15:35
Status: published
Category: 
Tags: Machine learning, basketball, predictive analytics, predictions, NBA, ggplot, R


<div class='post'>
<b>Game Results</b><br /><br />I recently made a post about <a href="http://viksalgorithms.blogspot.com/2012/05/predicting-nba-finals-with-r.html">developing an algorithm</a> to predict the NBA playoffs, and I concluded with 2 predictions. Although Miami beat the Celtics to make my algorithm <b>1-0</b> in terms of predictions, it fell to <b>1-1</b> when the Thunder beat the Spurs. So, we are now at .500 . Considering that the algorithm was about 61.5% accurate over the whole season, this is to be expected.<br /><br />I made some improvements to the algorithm which improved accuracy, and then used this to make new predictions for the next game in each of the current series (Spurs vs. Thunder and Celtics vs. Heat). You can scroll down all the way to see the predictions, or read through to see what I did.<!--more--><br /><br /><b>Improvements in Variables</b><br /><br />I created rough code initially, and I didn't fully utilize all of the information that I had. The first step in making improvements was to add some variables relating to different player positions and bench vs. starter performance. <br /><br />For example, this plot shows that the average number of seconds bench players played over the last 10 games has a decent correlation with winning percentage: <br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-5M9fONppT1k/T8jz5U7cLbI/AAAAAAAAAHc/exN14m8aghc/s1600/bench_win.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="555" src="http://4.bp.blogspot.com/-5M9fONppT1k/T8jz5U7cLbI/AAAAAAAAAHc/exN14m8aghc/s640/bench_win.png" width="640" /></a></div>A reasonable conclusion to this is that winning teams generally have a stronger bench that they can rely on more.<br /><br /><b>Improvements in Machine Learning</b><br /><br />After adding some variables, I moved on to adjusting the models that I used. I had initially spent very little time on the machine learning framework, and most of the time on the data, and that did not change here, but I was able to tweak what I was predicting. Initially, I was predicting a binary value- whether a team won or not. I adjusted this to predict the ratio between a team's score and another team's score. This gave the machine learning algorithms a lot more information than a 1/0 target, and also had the benefit of being a normal distribution, as this quantile-quantile plot shows: <br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-J5MAZ6tw4ck/T8j00t4OjXI/AAAAAAAAAHo/bYKuPgeQLLQ/s1600/qqplot_spread.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="555" src="http://3.bp.blogspot.com/-J5MAZ6tw4ck/T8j00t4OjXI/AAAAAAAAAHo/bYKuPgeQLLQ/s640/qqplot_spread.png" width="640" /></a></div>The straight red line is a normal distribution, and this is very close, which makes it an ideal target variable. After the machine learning algorithms predicted this, I was able to combine the results via a simple mean method and convert them to binary win/loss values. This made the algorithm much more accurate than before.<br /><br /><b>Updated Season Accuracy Results</b><br /><br />With the improvements, the accuracy now comes to 63.6% for the season, which is a reasonable improvement over the previous results. This results in this confusion matrix: <br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-YdanJpR7fKo/T8j11ZOuEJI/AAAAAAAAAH0/Thgy2mZCI4Y/s1600/confmatupdate1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="555" src="http://2.bp.blogspot.com/-YdanJpR7fKo/T8j11ZOuEJI/AAAAAAAAAH0/Thgy2mZCI4Y/s640/confmatupdate1.png" width="640" /></a></div>The main hindrance to accuracy is only being able to get team names and home/away information for future games. If it was possible to get more information, such as officials, lineups, etc, it would be possible to make a much more accurate model. Having more data from past seasons would also help a lot, and I might look into getting that.<br /><br /><b>Predictions for Upcoming Games</b><br /><br />As before, I will leave you with predictions for the two upcoming games.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-GDCtiX_VSuA/T8j3WQ_e4yI/AAAAAAAAAIA/hLRYtlAqJVo/s1600/predictions_update1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="201" src="http://2.bp.blogspot.com/-GDCtiX_VSuA/T8j3WQ_e4yI/AAAAAAAAAIA/hLRYtlAqJVo/s640/predictions_update1.png" width="640" /></a></div>Here, the algorithm is predicting a Boston win/Miami loss, and an Oklahoma City win/San Antonio loss. Let's see how it plays out!<br/><br/> I can do a decent amount of analysis on the data, so please let me know if you want to see something specific next time. I'm going to make posts predicting all of the games in the series and the finals.</div>